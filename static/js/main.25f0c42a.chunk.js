(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{104:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(44),a=c.n(s),i=c(116),j=c(117),u=c(122),b=c(52),d=c(3),o=function(){return Object(d.jsxs)(i.a,{bg:"blue.200",justifyContent:"space-between",alignItems:"center",p:".5em 0",children:[Object(d.jsx)(i.a,{}),Object(d.jsx)(i.a,{children:Object(d.jsx)(j.a,{fontSize:"2em",align:"center",fontWeight:"bold",children:" Chat App"})}),Object(d.jsx)(i.a,{children:Object(d.jsxs)(b.b,{to:"/login",children:[" ",Object(d.jsx)(u.a,{mr:"2em",children:" Login "})," "]})})]})},l=c(5),m=c(81),O=c(15),h=c(82),x=c(4),f=c(13),g=c(21),S=c(35),p=c(124),w=c(43),y=c.n(w),D={messages:{1:[{id:Object(p.a)(),message:"OK con de",createAt:y()(new Date).format("dddd, h:mm:ss a"),userID:1}],2:[{id:Object(p.a)(),message:"hello AAASSS",createAt:y()(new Date).format("dddd, h:mm:ss a"),userID:2}],3:[{id:Object(p.a)(),message:"TESTINGGGGGG",createAt:y()(new Date).format("dddd, h:mm:ss a"),userID:3}]}},v=Object(S.b)({name:"message",initialState:D,reducers:{addMessage:function(e,t){var c=t.payload,n=c.userID,r=c.myID,s=c.message,a={id:Object(p.a)(),message:s,createAt:y()(new Date).format("dddd, h:mm:ss a"),userID:r};return Object(g.a)(Object(g.a)({},e),{},{messages:Object(g.a)(Object(g.a)({},e.messages),{},Object(x.a)({},n,[].concat(Object(f.a)(e.messages[n]),[a])))})}}}),I=v.actions.addMessage,C=v.reducer,A=Object(S.b)({name:"user",initialState:{users:{1:{id:1,name:"Nam"},2:{id:2,name:"Hoang"},3:{id:3,name:"Tuyet"}},userSelected:null},reducers:{setSelectedUser:function(e,t){var c=t.payload.id;return Object(g.a)(Object(g.a)({},e),{},{userSelected:e.users[c]})}}}),F=A.actions.setSelectedUser,G=A.reducer,T=function(){var e=Object(O.c)((function(e){return e.user.userSelected})),t=Object(n.useState)(),c=Object(l.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(0),b=Object(l.a)(a,2),o=b[0],x=(b[1],Object(O.b)()),f=function(){x(function(e,t){return function(c,n){var r=n().user.userSelected;c(I({userID:r.id,message:e,myID:t}))}}(r,o)),s("")};Object(n.useEffect)((function(){x((function(e,t){var c=t().user.users;e(F(c[1]))}))}),[x]);return Object(d.jsx)(d.Fragment,{children:null!=e&&Object(d.jsxs)(i.a,{mt:".5em",alignItems:"center",children:[Object(d.jsx)(i.a,{w:"55em",children:Object(d.jsx)(h.a,{onChange:s,onEnter:function(e){r&&f()},value:r})}),r?Object(d.jsx)(u.a,{type:"submit",m:"0 .5em",bg:"gray.300",borderRadius:3,_focus:{boxShadow:"none"},onClick:f,children:Object(d.jsx)(j.a,{children:" Send "})}):Object(d.jsx)(u.a,{m:"0 .5em",bg:"gray.300",_focus:{boxShadow:"none"},children:Object(d.jsx)(m.a,{size:"2em"})})]})})},E=function(e){var t=e.user.userSelected,c=e.message.messages;return null!=t?c[t.id]:[]},L=function(){var e=Object(O.c)((function(e){return e.user})).userSelected,t=Object(O.c)(E);return Object(d.jsx)(d.Fragment,{children:null!=e&&t.map((function(t){return Object(d.jsx)(i.a,{children:Object(d.jsxs)(i.a,{w:"full",flexDir:"column",children:[Object(d.jsxs)(i.a,{alignSelf:"center",children:["  ",Object(d.jsxs)(j.a,{m:"1em 0",color:"gray.500",children:[" ",t.createAt," "]})," "]}),Object(d.jsx)(i.a,{alignSelf:e.id==t.userID?"flex-start":"flex-end",children:Object(d.jsxs)(j.a,{w:"fit",bg:e.id==t.userID?"gray.200":"blue.200",p:".5em 1em",m:".5em 1em",borderRadius:15,children:[" ",t.message]})})]})},t.id)}))})},k=function(){var e=Object(O.c)((function(e){return e})).message,t=Object(O.c)((function(e){return e.user})).userSelected,c=Object(n.useRef)(null);return Object(n.useEffect)((function(){c.current.scrollIntoView()}),[e,t]),Object(d.jsxs)(i.a,{h:"30em",w:"60em",border:"2px solid",borderColor:"gray",flexDirection:"column",overflowY:"scroll",children:[Object(d.jsx)(L,{}),Object(d.jsx)("div",{ref:c})]})},z=function(){return Object(d.jsxs)(i.a,{flexDir:"column",justifyContent:"center",mr:".5em",bg:"white",h:"30em",children:[Object(d.jsx)(k,{}),Object(d.jsx)(T,{})]})},M=function(){var e=Object(O.c)((function(e){return e.user})),t=e.users,c=e.userSelected,n=Object(O.b)(),r=function(e){var t=e.currentTarget.id;n(F({id:t}))};return console.log(c),Object(d.jsx)(i.a,{w:"20em",bg:"white",flexDirection:"column",children:Object.values(t).map((function(e){return Object(d.jsx)(u.a,{onClick:r,id:e.id,bg:c&&c.id==e.id?"blue.500":"blue.200",_focus:{boxShadow:"none"},p:"2em",mb:"1em",h:"4em",children:Object(d.jsxs)(j.a,{children:[" ",e.name," "]})},e.id)}))})},N=function(){return Object(d.jsxs)(i.a,{justifyContent:"center",p:"3em",children:[Object(d.jsx)(z,{}),Object(d.jsx)(M,{})]})},P=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o,{}),Object(d.jsx)(N,{})]})},R=c(10),U=c(118),_=c(41),B=c(120),J=c(121),W=c(125),H=["User Name","Password"],K=function(){return Object(d.jsx)(U.a,{bg:"gray.600",p:"6em",children:Object(d.jsx)(i.a,{boxSize:"30em",bg:"white",children:Object(d.jsxs)(_.a,{bg:"white.500",p:"2em",children:[Object(d.jsx)(j.a,{fontSize:"2.5em",align:"center",fontWeight:"bold",mb:"1em",children:"Log In"}),H.map((function(e){return Object(d.jsxs)(B.a,{m:"1em 0",children:[Object(d.jsxs)(J.a,{children:[" ",e]}),Object(d.jsx)(W.a,{borderColor:"gray"})]})})),Object(d.jsx)(U.a,{children:Object(d.jsx)(u.a,{borderColor:"gray",type:"submit",w:"20%",mt:"1em",children:" Log in"})})]})})})};var V=function(){return Object(d.jsx)(b.a,{children:Object(d.jsxs)(R.c,{children:[Object(d.jsx)(R.a,{exact:!0,path:"/",children:Object(d.jsx)(P,{})}),Object(d.jsx)(R.a,{path:"/login",children:Object(d.jsx)(K,{})})]})})},Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,126)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))},q=c(123),Q=Object(S.a)({reducer:{user:G,message:C}});a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(q.a,{children:Object(d.jsx)(O.a,{store:Q,children:Object(d.jsx)(V,{})})})}),document.getElementById("root")),Y()}},[[104,1,2]]]);
//# sourceMappingURL=main.25f0c42a.chunk.js.map