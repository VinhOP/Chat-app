(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{88:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(35),a=c.n(s),u=c(101),i=c(102),j=c(4),d=function(){return Object(j.jsxs)(u.a,{bg:"blue.200",justifyContent:"center",alignItems:"center",children:[Object(j.jsx)(u.a,{}),Object(j.jsx)(u.a,{children:Object(j.jsx)(i.a,{fontSize:"2em",align:"center",fontWeight:"bold",children:" Chat App"})})]})},b=c(5),o=c(104),l=c(65),m=c(12),O=c(66),f=c(3),g=c(11),h=c(15),x=c(26),S=c(105),p=c(34),D=c.n(p),w={messages:{1:[{id:Object(S.a)(),message:"OK con de",createAt:D()(new Date).format("dddd, h:mm:ss a"),userID:1}],2:[{id:Object(S.a)(),message:"hello AAASSS",createAt:D()(new Date).format("dddd, h:mm:ss a"),userID:2}],3:[{id:Object(S.a)(),message:"TESTINGGGGGG",createAt:D()(new Date).format("dddd, h:mm:ss a"),userID:3}]}},v=Object(x.b)({name:"message",initialState:w,reducers:{addMessage:function(e,t){var c=t.payload,n=c.userID,r=c.myID,s=c.message,a={id:Object(S.a)(),message:s,createAt:D()(new Date).format("dddd, h:mm:ss a"),userID:r};return Object(h.a)(Object(h.a)({},e),{},{messages:Object(h.a)(Object(h.a)({},e.messages),{},Object(f.a)({},n,[].concat(Object(g.a)(e.messages[n]),[a])))})}}}),I=v.actions.addMessage,y=v.reducer,C=Object(x.b)({name:"user",initialState:{users:{1:{id:1,name:"Nam"},2:{id:2,name:"Hoang"},3:{id:3,name:"Tuyet"}},userSelected:null},reducers:{setSelectedUser:function(e,t){var c=t.payload.id;return Object(h.a)(Object(h.a)({},e),{},{userSelected:e.users[c]})}}}),A=C.actions.setSelectedUser,F=C.reducer,G=function(){var e=Object(m.c)((function(e){return e.user.userSelected})),t=Object(n.useState)(),c=Object(b.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(0),d=Object(b.a)(a,2),f=d[0],g=(d[1],Object(m.b)()),h=function(){g(function(e,t){return function(c,n){var r=n().user.userSelected;c(I({userID:r.id,message:e,myID:t}))}}(r,f)),s("")};Object(n.useEffect)((function(){g((function(e,t){var c=t().user.users;e(A(c[1]))}))}),[g]);return Object(j.jsx)(j.Fragment,{children:null!=e&&Object(j.jsxs)(u.a,{mt:".5em",alignItems:"center",children:[Object(j.jsx)(u.a,{w:"55em",children:Object(j.jsx)(O.a,{onChange:s,onEnter:function(e){r&&h()},value:r})}),r?Object(j.jsx)(o.a,{type:"submit",m:"0 .5em",bg:"gray.300",borderRadius:3,_focus:{boxShadow:"none"},onClick:h,children:Object(j.jsx)(i.a,{children:" Send "})}):Object(j.jsx)(o.a,{m:"0 .5em",bg:"gray.300",_focus:{boxShadow:"none"},children:Object(j.jsx)(l.a,{size:"2em"})})]})})},T=function(e){var t=e.user.userSelected,c=e.message.messages;return null!=t?c[t.id]:[]},E=function(){var e=Object(m.c)((function(e){return e.user})).userSelected,t=Object(m.c)(T);return Object(j.jsx)(j.Fragment,{children:null!=e&&t.map((function(t){return Object(j.jsx)(u.a,{children:Object(j.jsxs)(u.a,{w:"full",flexDir:"column",children:[Object(j.jsxs)(u.a,{alignSelf:"center",children:["  ",Object(j.jsxs)(i.a,{m:"1em 0",color:"gray.500",children:[" ",t.createAt," "]})," "]}),Object(j.jsx)(u.a,{alignSelf:e.id==t.userID?"flex-start":"flex-end",children:Object(j.jsxs)(i.a,{w:"fit",bg:e.id==t.userID?"gray.200":"blue.200",p:".5em 1em",m:".5em 1em",borderRadius:15,children:[" ",t.message]})})]})},t.id)}))})},k=function(){var e=Object(m.c)((function(e){return e})).message,t=Object(m.c)((function(e){return e.user})).userSelected,c=Object(n.useRef)(null);return Object(n.useEffect)((function(){c.current.scrollIntoView()}),[e,t]),Object(j.jsxs)(u.a,{h:"30em",w:"60em",border:"2px solid",borderColor:"gray",flexDirection:"column",overflowY:"scroll",children:[Object(j.jsx)(E,{}),Object(j.jsx)("div",{ref:c})]})},M=function(){return Object(j.jsxs)(u.a,{flexDir:"column",justifyContent:"center",mr:".5em",bg:"white",h:"30em",children:[Object(j.jsx)(k,{}),Object(j.jsx)(G,{})]})},R=function(){var e=Object(m.c)((function(e){return e.user})),t=e.users,c=e.userSelected,n=Object(m.b)(),r=function(e){var t=e.currentTarget.id;n(A({id:t}))};return console.log(c),Object(j.jsx)(u.a,{w:"20em",bg:"white",flexDirection:"column",children:Object.values(t).map((function(e){return Object(j.jsx)(o.a,{onClick:r,id:e.id,bg:c&&c.id==e.id?"blue.500":"blue.200",_focus:{boxShadow:"none"},p:"2em",mb:"1em",h:"4em",children:Object(j.jsxs)(i.a,{children:[" ",e.name," "]})},e.id)}))})},_=function(){return Object(j.jsxs)(u.a,{justifyContent:"center",p:"3em",children:[Object(j.jsx)(M,{}),Object(j.jsx)(R,{})]})},z=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{}),Object(j.jsx)(_,{})]})};var B=function(){return Object(j.jsx)(z,{})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,106)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))},L=c(103),N=Object(x.a)({reducer:{user:F,message:y}});a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(L.a,{children:Object(j.jsx)(m.a,{store:N,children:Object(j.jsx)(B,{})})})}),document.getElementById("root")),J()}},[[88,1,2]]]);
//# sourceMappingURL=main.2ec5bb1c.chunk.js.map