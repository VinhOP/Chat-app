(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(44),a=n.n(s),i=n(117),j=n(120),d=n(118),b=n(83),u=n(52),o=n(3),l=function(){return Object(o.jsxs)(i.a,{bg:"blue.200",justifyContent:"space-between",alignItems:"center",p:".5em 0",children:[Object(o.jsx)(i.a,{}),Object(o.jsx)(i.a,{children:Object(o.jsx)(d.a,{fontSize:"2em",align:"center",fontWeight:"bold",children:" Chat App"})}),Object(o.jsx)(i.a,{children:Object(o.jsxs)(u.b,{to:"/login",target:"_blank",children:[" ",Object(o.jsx)(b.a,{mr:"2em",children:" Login "})," "]})})]})},m=n(5),O=n(56),x=n(16),h=n(84),f=n(13),g=n(35),p=Object(g.b)({name:"user",initialState:{users:{1:{id:1,name:"Nam"},2:{id:2,name:"Hoang"},3:{id:3,name:"Tuyet"}},userSelected:null,myID:0},reducers:{setSelectedUser:function(e,t){var n=t.payload.id;return Object(f.a)(Object(f.a)({},e),{},{userSelected:e.users[n]})}}}),S=p.actions.setSelectedUser,D=p.reducer,I=n(4),y=n(14),w=n(125),v=n(43),C=n.n(v),A={messages:{1:[{id:Object(w.a)(),message:"OK con de",deleted:!1,createAt:C()(new Date).format("dddd, h:mm:ss a"),userID:1}],2:[{id:Object(w.a)(),message:"hello AAASSS",deleted:!1,createAt:C()(new Date).format("dddd, h:mm:ss a"),userID:2}],3:[{id:Object(w.a)(),message:"TESTINGGGGGG",deleted:!1,createAt:C()(new Date).format("dddd, h:mm:ss a"),userID:3}]}},z=Object(g.b)({name:"message",initialState:A,reducers:{addMessage:function(e,t){var n=t.payload,c=n.userID,r=n.myID,s=n.message,a={id:Object(w.a)(),message:s,deleted:!1,createAt:C()(new Date).format("dddd, h:mm:ss a"),userID:r};return Object(f.a)(Object(f.a)({},e),{},{messages:Object(f.a)(Object(f.a)({},e.messages),{},Object(I.a)({},c,[].concat(Object(y.a)(e.messages[c]),[a])))})},deleteMes:function(e,t){var n=t.payload,c=n.userID,r=n.mesID;return Object(f.a)(Object(f.a)({},e),{},{messages:Object(f.a)(Object(f.a)({},e.messages),{},Object(I.a)({},c,e.messages[c].map((function(e){return r==e.id?Object(f.a)(Object(f.a)({},e),{},{deleted:!0}):e}))))})}}}),k=z.actions,M=k.addMessage,T=k.deleteMes,E=z.reducer,F=function(){var e=Object(x.c)((function(e){return e.user})),t=e.userSelected,n=e.myID,r=Object(c.useState)(),s=Object(m.a)(r,2),a=s[0],j=s[1],u=Object(x.b)(),l=function(){u(function(e,t){return function(n,c){var r=c().user.userSelected;n(M({userID:r.id,message:e,myID:t}))}}(a,n)),j("")};Object(c.useEffect)((function(){u((function(e,t){var n=t().user.users;e(S(n[1]))}))}),[u]);return Object(o.jsx)(o.Fragment,{children:null!=t&&Object(o.jsxs)(i.a,{mt:".5em",alignItems:"center",children:[Object(o.jsx)(i.a,{w:"55em",children:Object(o.jsx)(h.a,{onChange:j,onEnter:function(e){a&&l()},value:a})}),a?Object(o.jsx)(b.a,{type:"submit",m:"0 .5em",bg:"gray.300",borderRadius:3,_focus:{boxShadow:"none"},onClick:l,children:Object(o.jsx)(d.a,{children:" Send "})}):Object(o.jsx)(b.a,{m:"0 .5em",bg:"gray.300",_focus:{boxShadow:"none"},children:Object(o.jsx)(O.a,{size:"2em"})})]})})},G=n(119),L=function(e){var t=e.user.userSelected,n=e.message.messages;return null!=t?n[t.id]:[]},_=function(){var e=Object(c.useState)(),t=Object(m.a)(e,2),n=t[0],r=t[1],s=Object(x.c)((function(e){return e.user})),a=s.userSelected,j=s.myID,u=Object(c.useState)(!1),l=Object(m.a)(u,2),h=l[0],f=l[1],g=Object(x.c)(L),p=Object(x.b)(),S=function(){r(),f(!1)};return Object(o.jsx)(o.Fragment,{children:null!=a&&g.map((function(e){return Object(o.jsx)(i.a,{onMouseLeave:S,children:Object(o.jsxs)(i.a,{w:"full",flexDir:"column",children:[Object(o.jsxs)(i.a,{alignSelf:"center",children:["  ",Object(o.jsxs)(d.a,{m:"1em 0",color:"gray.500",children:[" ",e.createAt," "]})," "]}),Object(o.jsxs)(i.a,{justifyContent:a.id==e.userID?"flex-start":"flex-end",m:"1em",pos:"relative",onMouseEnter:function(){return r(e.id)},children:[e.userID==j&&n==e.id&&!e.deleted&&Object(o.jsxs)(i.a,{flexDir:"column-reverse",w:"4em",alignItems:"center",children:[Object(o.jsx)(G.a,{icon:Object(o.jsx)(O.b,{size:"1.5em"}),w:"1em",bg:h?"gray.100":"none",_focus:{boxShadow:"none"},onClick:function(){return f(!h)}}),h&&Object(o.jsx)(b.a,{zIndex:1,pos:"absolute",bottom:"2.7em",onClick:function(){return p((t=e.id,function(e,n){var c=n().user.userSelected;e(T({userID:c.id,mesID:t}))}));var t},children:" delete"})]}),Object(o.jsxs)(d.a,{boxSize:"fit-content",maxW:"20em",bg:a.id==e.userID?"gray.200":e.deleted?"none":"blue.200",border:e.deleted?"1px solid":"none",fontStyle:e.deleted?"italic":"none",color:e.deleted?"gray.500":"none",p:".5em 1em",borderRadius:15,children:[" ",e.deleted?"Tin nh\u1eafn \u0111\xe3 \u0111\u01b0\u1ee3c thu h\u1ed3i":e.message]})]})]})},e.id)}))})},R=function(){var e=Object(x.c)((function(e){return e})).message,t=Object(x.c)((function(e){return e.user})).userSelected,n=Object(c.useRef)(null);return Object(c.useEffect)((function(){n.current.scrollIntoView()}),[e,t]),Object(o.jsxs)(i.a,{h:"30em",w:"60em",border:"2px solid",borderColor:"gray",flexDirection:"column",overflowY:"scroll",children:[Object(o.jsx)(_,{}),Object(o.jsx)("div",{ref:n})]})},P=function(){return Object(o.jsxs)(i.a,{flexDir:"column",justifyContent:"center",mr:".5em",bg:"white",h:"30em",children:[Object(o.jsx)(R,{}),Object(o.jsx)(F,{})]})},U=function(){var e=Object(x.c)((function(e){return e.user})),t=e.users,n=e.userSelected,c=Object(x.b)(),r=function(e){var t=e.currentTarget.id;c(S({id:t}))};return Object(o.jsx)(i.a,{w:"20em",bg:"white",flexDirection:"column",children:Object.values(t).map((function(e){return Object(o.jsx)(b.a,{onClick:r,id:e.id,bg:n&&n.id==e.id?"blue.500":"blue.200",_focus:{boxShadow:"none"},p:"2em",mb:"1em",h:"4em",children:Object(o.jsxs)(d.a,{children:[" ",e.name," "]})},e.id)}))})},W=function(){return Object(o.jsxs)(i.a,{justifyContent:"center",p:"3em",children:[Object(o.jsx)(P,{}),Object(o.jsx)(U,{})]})},B=function(){return Object(o.jsx)(i.a,{justifyContent:"center",children:Object(o.jsxs)(j.a,{children:[Object(o.jsx)(l,{}),Object(o.jsx)(W,{})]})})},J=n(10),N=n(121),H=n(41),K=n(123),V=n(126),Y=function(){return Object(o.jsx)(N.a,{p:"6em",bgRepeat:"no-repeat",bgSize:"cover",bgImg:"https://i.pinimg.com/564x/6f/63/e9/6f63e9361712ddb1c9b1a03cead9eb5d.jpg",children:Object(o.jsx)(i.a,{boxSize:"30em",bg:"white",children:Object(o.jsxs)(H.a,{bg:"white.500",p:"2em",children:[Object(o.jsx)(d.a,{fontSize:"2.5em",align:"center",fontWeight:"bold",mb:"1em",children:"Log In"}),Object(o.jsx)(K.a,{children:" User name "}),Object(o.jsx)(V.a,{}),Object(o.jsx)(K.a,{children:" Password "}),Object(o.jsx)(N.a,{children:Object(o.jsx)(b.a,{bg:"gray.300",borderColor:"gray",type:"submit",w:"20%",mt:"1em",children:" Log in"})})]})})})};var q=function(){return Object(o.jsx)(u.a,{children:Object(o.jsxs)(J.c,{children:[Object(o.jsx)(J.a,{exact:!0,path:"/",children:Object(o.jsx)(B,{})}),Object(o.jsx)(J.a,{path:"/login",children:Object(o.jsx)(Y,{})})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,127)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},X=n(124),Z=Object(g.a)({reducer:{user:D,message:E}});a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(X.a,{children:Object(o.jsx)(x.a,{store:Z,children:Object(o.jsx)(q,{})})})}),document.getElementById("root")),Q()}},[[105,1,2]]]);
//# sourceMappingURL=main.9af962ad.chunk.js.map