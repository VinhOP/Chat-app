(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(43),a=n.n(s),i=n(116),j=n(117),d=n(122),b=n(51),u=n(3),o=function(){return Object(u.jsxs)(i.a,{bg:"blue.200",justifyContent:"space-between",alignItems:"center",children:[Object(u.jsx)(i.a,{}),Object(u.jsx)(i.a,{children:Object(u.jsx)(j.a,{fontSize:"2em",align:"center",fontWeight:"bold",children:" Chat App"})}),Object(u.jsx)(i.a,{children:Object(u.jsx)(b.b,{to:"/login",children:Object(u.jsx)(d.a,{m:" 0 .5em",children:"Log in"})})})]})},l=n(5),m=n(81),O=Object(c.createContext)({}),x=n(15),h=n(34),f=n(124),g=n(36),p=n.n(g),w=[{id:2,name:"Nam",messages:[{id:Object(f.a)(),mes:"OK con de",createAt:p()(new Date).format("dddd, h:mm:ss a"),userID:2}]},{id:3,name:"Hoang",messages:[{id:Object(f.a)(),mes:"hello AAASSS",createAt:p()(new Date).format("dddd, h:mm:ss a"),userID:3}]},{id:4,name:"Tuyet",messages:[{id:Object(f.a)(),mes:"TESTINGGGGGG",createAt:p()(new Date).format("dddd, h:mm:ss a"),userID:4}]}],I=Object(h.b)({name:"users",initialState:w,reducers:{sendMessage:function(e,t){var n=t.payload.userIndex,c=e.find((function(e){return e.id==n})),r={id:Object(f.a)(),mes:t.payload.mes,createAt:p()(new Date).format("dddd, h:mm:ss a"),userID:t.payload.userID};c.messages.push(r)}}}),S=I.actions.sendMessage,v=I.reducer,y=n(80),D=function(){var e=Object(x.c)((function(e){return e.userIndex.value})),t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(1),b=Object(l.a)(a,2),o=b[0],O=(b[1],Object(c.useState)(!1)),h=Object(l.a)(O,2),f=(h[0],h[1],Object(x.b)());Object(c.useEffect)((function(){s("")}),[e]);var g=function(){f(S({userIndex:e,mes:r,userID:o})),s("")};return Object(u.jsx)(u.Fragment,{children:null!=e&&Object(u.jsxs)(i.a,{mt:".5em",alignItems:"center",children:[Object(u.jsx)(i.a,{w:"55em",children:Object(u.jsx)(y.a,{onChange:s,onEnter:function(e){r&&g()},value:r})}),r?Object(u.jsx)(d.a,{type:"submit",m:"0 .5em",bg:"gray.300",borderRadius:3,_focus:{boxShadow:"none"},onClick:g,children:Object(u.jsx)(j.a,{children:" Send "})}):Object(u.jsx)(d.a,{m:"0 .5em",bg:"gray.300",_focus:{boxShadow:"none"},children:Object(u.jsx)(m.a,{size:"2em"})})]})})},C=function(){var e=Object(x.c)((function(e){return e.userIndex.value})),t=Object(x.c)((function(e){return e.users})).find((function(t){return t.id==e}));return console.log(e),Object(u.jsx)(u.Fragment,{children:null!=e&&t.messages.length>0&&t.messages.map((function(e){return Object(u.jsx)(i.a,{children:Object(u.jsxs)(i.a,{w:"full",flexDir:"column",children:[Object(u.jsxs)(i.a,{alignSelf:"center",children:["  ",Object(u.jsxs)(j.a,{m:"1em 0",color:"gray.500",children:[" ",e.createAt," "]})," "]}),Object(u.jsx)(i.a,{alignSelf:t.id==e.userID?"flex-start":"flex-end",children:Object(u.jsxs)(j.a,{w:"fit",bg:t.id==e.userID?"gray.200":"blue.200",p:".5em 1em",m:".5em 1em",borderRadius:15,children:[" ",e.mes]})})]})},e.id)}))})},A=(n(104),function(){var e=Object(x.c)((function(e){return e.users})),t=Object(c.useRef)(null);return Object(c.useEffect)((function(){t.current.scrollIntoView()}),[e]),Object(u.jsxs)(i.a,{h:"30em",w:"60em",border:"2px solid",borderColor:"gray",flexDirection:"column",overflowY:"scroll",children:[Object(u.jsx)(C,{}),Object(u.jsx)("div",{ref:t})]})}),F=function(){return Object(u.jsxs)(i.a,{flexDir:"column",justifyContent:"center",mr:".5em",bg:"white",h:"30em",children:[Object(u.jsx)(A,{}),Object(u.jsx)(D,{})]})},G=Object(h.b)({name:"userIndex",initialState:{value:null},reducers:{update:function(e,t){e.value=t.payload}}}),T=G.actions.update,E=G.reducer,L=function(){var e=Object(x.b)(),t=Object(x.c)((function(e){return e.users})),n=function(t){var n=t.currentTarget.id;e(T(n))};return Object(u.jsx)(i.a,{w:"20em",bg:"white",flexDirection:"column",children:t.map((function(e){return Object(u.jsx)(d.a,{onClick:n,id:e.id,bg:"blue.200",_focus:{boxShadow:"none"},p:"2em",mb:"1em",h:"4em",children:Object(u.jsxs)(j.a,{children:[" ",e.name," "]})},e.id)}))})},k=function(){var e=Object(c.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(u.jsx)(i.a,{justifyContent:"center",p:"3em",children:Object(u.jsxs)(O.Provider,{value:{setUserIndex:r,userIndex:n},children:[Object(u.jsx)(F,{}),Object(u.jsx)(L,{})]})})},z=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o,{}),Object(u.jsx)(k,{})]})},P=n(10),M=n(118),N=n(41),R=n(120),_=n(121),B=n(125),J=["User Name","Password"],U=function(){return Object(u.jsx)(M.a,{bg:"gray.600",p:"6em",children:Object(u.jsx)(i.a,{boxSize:"30em",bg:"white",children:Object(u.jsxs)(N.a,{bg:"white.500",p:"2em",children:[Object(u.jsx)(j.a,{fontSize:"2.5em",align:"center",fontWeight:"bold",mb:"1em",children:"Log In"}),J.map((function(e){return Object(u.jsxs)(R.a,{m:"1em 0",children:[Object(u.jsxs)(_.a,{children:[" ",e]}),Object(u.jsx)(B.a,{borderColor:"gray"})]})})),Object(u.jsx)(M.a,{children:Object(u.jsx)(d.a,{borderColor:"gray",type:"submit",w:"20%",mt:"1em",children:" Log in"})})]})})})};var W=function(){return Object(u.jsx)(b.a,{children:Object(u.jsxs)(P.c,{children:[Object(u.jsx)(P.a,{exact:!0,path:"/",children:Object(u.jsx)(z,{})}),Object(u.jsx)(P.a,{path:"/login",children:Object(u.jsx)(U,{})})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))},K=n(123),V=Object(h.a)({reducer:{users:v,userIndex:E}});a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(K.a,{children:Object(u.jsx)(x.a,{store:V,children:Object(u.jsx)(W,{})})})}),document.getElementById("root")),H()}},[[105,1,2]]]);
//# sourceMappingURL=main.94846bb9.chunk.js.map